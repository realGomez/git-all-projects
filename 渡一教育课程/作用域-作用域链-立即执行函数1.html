<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>递归-预编译-作用域</title>
	</head>
	<body>
		
	
		<script>
		
           function test(){
           	 var arr = [];
           	 for(var i=0;i<10;i++){
           	 	arr[i]=function(){
           	 		document.write(i);
           	 	}
           	 }
           	 
           	 return arr;
           }
           
           
            function test2(){
           	 var arr = [];
           	 for(var i=0;i<10;i++){
           	 	(function(j){
           	 		
           	 		arr[j]=function(){
           	 		    document.write(j);
           	 	    }
           	 	})(i)
           	 	
           	 }
           	 
           	 return arr;
           }
           
           
           
           var myArr = test2();
           for(var j=0;j<10;j++){
           	  myArr[j]();
           }
		</script>
	</body>
</html>
